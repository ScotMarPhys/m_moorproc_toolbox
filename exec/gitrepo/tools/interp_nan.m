%[data_nn] = interp_nan(data,dir,'type')%% eliminate interior nan in 'data' by interpolation% dir determines the interpolation direction,% dir = 1 interpolates along columns, 2 along rows  % type = interpolation type, default 'linear'%% data_nn = de-nan-ned data% (nans    = indices of eliminated nans) option coming soon% kanzow, 24.11.01function [data_nn] = interp_nan(data,dir,type)if nargin < 3  type = 'linear';endif nargin == 1  dir = 1endif dir == 2   data = data';end[nrow,ncol] = size(data);%GRAY, HOT, COOL, BONE, COPPER, PINK, FLAG, PRISM, JET,%    COLORMAP, RGBPLOT, HSV2RGB, RGB2HSVx = 1:nrow;for col = 1 : ncol, ii                = find(~isnan(data(:,col))); data_nn(1:nrow,col) = interp1(x(ii)',data(ii,col),x',type);endif dir == 2   data    = data';  data_nn =  data_nn';end% nan_old = find(isnan(data));% nan_new = find(isnan(data_nn));